<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Admin - Tambah Match</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100">

<div class="max-w-md mx-auto mt-20 bg-white dark:bg-gray-800 p-6 rounded shadow">
  <h1 class="text-xl font-bold mb-4">Admin - Tambah Match</h1>

  <input
    id="pertandingan"
    placeholder="Inter Milan vs Man City"
    class="w-full p-2 mb-3 rounded bg-gray-50 dark:bg-gray-700 dark:text-white"
  />

  <button
    onclick="buatMatch()"
    class="w-full bg-green-600 text-white p-2 rounded"
  >
    Tambah Match
  </button>
</div>

<script>
const API = 'https://prediksi-skor.onrender.com';

window.buatMatch = async function () {
  const pertandingan = document.getElementById('pertandingan').value.trim();

  if (!pertandingan) {
    alert('Nama pertandingan wajib diisi');
    return;
  }

  try {
    const res = await fetch(API + '/admin/match', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ pertandingan })
    });

    const text = await res.text();
    console.log(text);

    if (!res.ok) {
      alert('SERVER ERROR: ' + text);
      return;
    }

    alert('Match berhasil ditambahkan');
    document.getElementById('pertandingan').value = '';

  } catch (err) {
    alert('BENAR-BENAR TIDAK NYAMPAI KE SERVER');
    console.error(err);
  }
};
</script>

</body>
</html>
