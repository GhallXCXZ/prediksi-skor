<!DOCTYPE html>
<h2>TEBAK SKOR PS3</h2>

<input id="n" placeholder="nama"><br>
<input id="a" type="number"> VS
<input id="b" type="number"><br>
<button onclick="kirim()">KIRIM</button>

<h3>LIST TEBAKAN</h3>
<ul id="l"></ul>

<script>
const API="http://localhost:3000"

function load(){
 fetch(API+"/list").then(r=>r.json()).then(d=>{
  l.innerHTML=""
  d.forEach(x=>{
   l.innerHTML+=`<li>${x.name} : ${x.a}-${x.b}</li>`
  })
 })
}
setInterval(load,1500)

function kirim(){
 fetch(API+"/predict",{
  method:"POST",
  headers:{'Content-Type':'application/json'},
  body:JSON.stringify({
    name:n.value,
    a:+a.value,
    b:+b.value
  })
 }).then(r=>r.json()).then(alert)
}
load()
</script>
